<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Plant Link Pvt. Ltd. FLM Data Entry</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #074fa7, #fad0c4);
            color: #333;
            text-align: center;
        }
        header {
            margin: 20px auto;
        }
        header img {
            width: 150px;
            height: auto;
        }
        h1 {
            color: #12f77a;
            margin-top: 20px;
        }
        form {
            background: #ffffff;
            border-radius: 10px;
            padding: 2em;
            margin: 15px auto;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        label {
            display: block;
            margin: 10px 0 5px;
            color: #ff6f61;
            font-size: 18px;
        }
        input[type="text"], input[type="date"], textarea {
            width: calc(100% - 20px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-bottom: 10px;
            box-sizing: border-box;
        }
        button {
            background-color: #ff6f61;
            border: none;
            color: white;
            padding: 10px 15px;
            text-align: center;
            font-size: 1.2em;
            margin: 10px 0;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #ff3b30;
        }
        footer {
            background: #333;
            padding: 8px;
            color: #fff;
            width: 100%;
            text-align: center;
            position: fixed;
            bottom: 0;
        }
        #thankYouMessage {
            display: none;
            margin-top: 20px;
            color: #ff0000;
            font-size: 2em;
            position: relative;
        }
        .button-container {
            margin: 20px;
            text-align: center;
        }
        .button-container button {
            background-color: #007bff;
            border: none;
            color: white;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            margin-left: 10px;
        }
        .button-container button:hover {
            background-color: #0056b3;
        }
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .modal-content button {
            margin-top: 10px;
        }
    </style>
    <script>
        window.onload = function() {
            const today = new Date().toISOString().substr(0, 10);
            document.getElementById("Date").value = today;
        };

        const jobExecutives = {
            1024: 'Md. Rokon Uddin',
            1046: 'Md. Rahimul Islam',
            1007: 'Md. Syedur Rahman',
            1017: 'Abdullah-Al-Mamun',
            1270: 'Palash Roy',
            1021: 'Md. Rocky Mia',
            1025: 'Md. Miraj Hossain',
            1026: 'Md. Kamruzzaman',
            1165: 'Khalid Hossain Shaikh',
            1152: 'Md. Ariful Islam-01',
            1448: 'Md. Alamgir Kabir',
            1587: 'Abdul Quddus (Jewel)',
            1789: 'Md. Jahangir Alam',
            1945: 'Md. Mofijul Islam',
            1243: 'Md. Al Amin',
            1659: 'Md. Shajahan Ali',
            11127: 'Md. Zakir Hossin',
            11392: 'Fahim Ahmmed',
            11285: 'Md. Emrul Islam',
            11358: 'Md. Masruful Islam',
            11279: 'Abu Shahin',
            11656: 'Md. Arif Hossain-3',
            11733: 'Md. Zasim Uddin',
            11594: 'Bikash Roy',
            11660: 'Md. Anowarul Islam',
            11747: 'Md. Rakib Ali',
            11707: 'SK Ramez Ahmed Rana',
            11731: 'Md. Arif Hossain-4',
            11999: 'Hasan Mia',
            11810: 'Md. Kaysar Ahmed',
            11815: 'Md. Rabbiul Hasan',
            12113: 'Md. Miraj Mia-2',
            12059: 'Md. Nazmul Hassan',
            12065: 'Shayama Pada Sana',
            11968: 'Mehedi Hasan Sagor',
            12071: 'Abdus Salam',
            12060: 'Atiqur Rahman',
            12038: 'Md. Sofiqul Islam Bashar',
            1596: 'Plock Kumer Raha',
            12057: 'Md. Solaiman Khan',
            11374: 'MD. RAKIB UDDIN',
            11245: 'YASIR ARAFAT',
            1950: 'Meraz Mahmud',
            11336: 'Md. Asaduzzaman Roni',
            11843: 'Mynul Islam',
            1465: 'MD. EMRAN',
            11719: 'SHUVANKAR BAIRAGI',
            11790: 'AKTARUL BIN HASAN',
            11751: 'MD. AL AMIN SARDAR',
            11364: 'MD. ABU RAYHAN',
            11655: 'Anwar Hossain',
            12089: 'Subroto Kuri',
            11247: 'Jahingir Fokir',
            12181: 'Md. Rahedul Islam',
            12183: 'Md. Tanvir Hasan',
            12182: 'Mirajul Islam',
            11888: 'MD. AMIR HOSSAIN',
            12220: 'Kawser Ahmed Fahim',
            12208: 'Md. Nazmul Islam',
            2024012232: 'Mehedi Hasan',
            2024012223: 'Abdul Barik',
            11816: 'Mosharof Hossain',
            2024012225: 'Abdur Rahman',
            2024012231: 'Abdullah Al Sakib',
            2024012266: 'Md. Rasel',
            202408012315: 'Sawpan Das'
        };

        function handleSubmit(event) {
            event.preventDefault();
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;
                    const locationString = `Lat: ${latitude}, Long: ${longitude}`;
                    const remarksField = document.getElementById('Remarks');
                    remarksField.value += `\nLocation: ${locationString}`;
                    submitForm(event);
                }, function(error) {
                    console.error("Error getting location: ", error);
                    submitForm(event);
                });
            } else {
                console.error("Geolocation not supported by this browser.");
                submitForm(event);
            }
        }

        function submitForm(event) {
            document.getElementById('thankYouMessage').style.display = 'block';
            document.getElementById('myForm').style.display = 'none';

            const formData = new FormData(event.target);
            const data = {};
            formData.forEach((value, key) => data[key] = value);

            fetch('https://script.google.com/macros/s/AKfycby8G8qwhM3s0D4Ws0eTs1AHpSgDWVYy3BG5W5mB_aVC2UiU1ZJGhkp0AigssIDUBlpc-w/exec', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: new URLSearchParams(data)
            })
            .then(response => response.text())
            .then(result => {
                console.log('Success:', result);
                setTimeout(function() {
                    window.location.href = 'https://mpllflmteam.github.io/mpllflm/';
                }, 2000);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        function showShortageOptions() {
            document.getElementById('shortageModal').style.display = 'block';
        }

        function promptPassword(zone) {
            const password = prompt("Please enter the password:");

            if ((zone === 'Dhaka-1' && password === '1036') ||
                (zone === 'Dhaka-2' && password === '1016')) {
                const url = zone === 'Dhaka-1'
                    ? 'https://1drv.ms/x/c/d47e761307970fab/EasPlwcTdn4ggNSiAAAAAAAB0A_oHB0xq_bNj2RlnNkSkw?e=oTnbek'
                    : 'https://1drv.ms/x/c/d47e761307970fab/EasPlwcTdn4ggNS0AAAAAAAB3HqwPm-lPHsrf-vVQqQ0vQ?e=p0fv99';
                window.open(url, '_blank');
            } else {
                alert("Incorrect password.");
            }
        }

        function closeModal() {
            document.getElementById('shortageModal').style.display = 'none';
        }

        function updateExecutiveName() {
            const jobID = document.getElementById('JobID').value;
            console.log('JobID:', 1024
1046
1007
1017
1270
1021
1025
1026
1165
1152
1448
1587
1789
1945
1243
1659
11127
11392
11285
11358
11279
11656
11733
11594
11660
11747
11707
11731
11999
11810
11815
12113
12059
12065
11968
12071
12060
12038
1596
12057
11374
11245
1950
11336
11843
1465
11719
11790
11751
11364
11655
12089
11247
12181
12183
12182
11888
12220
12208
2024012232
2024012223
11816
2024012225
2024012231
2024012266
202408012315);

            const executiveName = jobExecutives[jobID] || '';
            document.getElementById('ExecutiveName').value = Md. Rokon Uddin
Md. Rahimul Islam
Md. Syedur Rahman
Abdullah-Al-Mamun
Palash Roy
Md. Rocky Mia
Md. Miraj Hossain
Md. Kamruzzaman
Khalid Hossain Shaikh
Md. Ariful Islam-01 
Md. Alamgir Kabir
Abdul Quddus (Jewel)
Md. Jahangir Alam
Md. Mofijul Islam
Md. Al Amin 
Md. Shajahan Ali
Md. Zakir Hossin 
Fahim Ahmmed
Md. Emrul Islam 
Md. Masruful Islam
Abu Shahin 
Md. Arif Hossain-3
Md. Zasim Uddin 
Bikash Roy
Md. Anowarul Islam
Md. Rakib Ali 
SK Ramez Ahmed Rana
Md. Arif Hossain-4 
Hasan Mia
Md. Kaysar Ahmed
Md. Rabbiul Hasan
Md. Miraj Mia-2
Md. Nazmul Hassan
Shayama Pada Sana
Mehedi Hasan Sagor
Abdus Salam
Atiqur Rahman
Md. Sofiqul Islam Bashar
Plock Kumer Raha
Md. Solaiman Khan
MD. RAKIB UDDIN
YASIR ARAFAT
Meraz Mahmud
Md. Asaduzzaman Roni
Mynul Islam
MD. EMRAN
SHUVANKAR BAIRAGI
AKTARUL BIN HASAN
MD. AL AMIN SARDAR
MD. ABU RAYHAN
Anwar Hossain
Subroto Kuri
Jahingir Fokir
Md. Rahedul Islam
Md. Tanvir Hasan
Mirajul Islam
MD. AMIR HOSSAIN
Kawser Ahmed Fahim
Md. Nazmul Islam
Mehedi Hasan
Abdul Barik
Mosharof Hossain
Abdur Rahman
Abdullah Al Sakib     
Md. Rasel
Sawpqn Das
;
        }

        document.getElementById('JobID').addEventListener('input', updateExecutiveName);
    </script>
</head>
<body>
    <header>
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRXbepMX_Wr3Ls3sZu7UgeVzUqh6SucsH5_kg&s" alt="Money Plant Logo">
    </header>
    <h1>FLM Data Entry</h1>

    <form id="myForm" method="post" action="https://script.google.com/macros/s/AKfycby8G8qwhM3s0D4Ws0eTs1AHpSgDWVYy3BG5W5mB_aVC2UiU1ZJGhkp0AigssIDUBlpc-w/exec" onsubmit="handleSubmit(event)">
        <label for="Date">Date:</label>
        <input type="date" id="Date" name="Date" required>
        
        <label for="Zone">Zone:</label>
        <input type="text" id="Zone" name="Zone" required>
        
        <label for="JobID">Job ID:</label>
        <input type="text" id="JobID" name="JobID" required>
        
        <label for="ExecutiveName">Executive Name:</label>
        <input type="text" id="ExecutiveName" name="ExecutiveName" required readonly>
        
        <label for="ATMCRMID">ATM/CRM ID:</label>
        <input type="text" id="ATMCRMID" name="ATMCRMID" required>
        
        <label for="ATMLOCATION">ATM Location:</label>
        <input type="text" id="ATMLOCATION" name="ATMLOCATION" required>
        
        <label for="TypeOfCall">Type Of Call:</label>
        <input type="text" id="TypeOfCall" name="TypeOfCall" required>
        
        <label for="Time">Time:</label>
        <input type="text" id="Time" name="Time" required>
                
        <label for="From">From:</label>
        <input type="text" id="From" name="From" required>
        
        <label for="To">To:</label>
        <input type="text" id="To" name="To" required>
        
        <label for="Transport">Transport:</label>
        <input type="text" id="Transport" name="Transport" required>

        <label for="TravellingAmount">Travelling Amount:</label>
        <input type="text" id="TravellingAmount" name="TravellingAmount" required>
        
        <label for="Remarks">Remarks:</label>
        <textarea id="Remarks" name="Remarks" required></textarea>
        
        <button type="submit">Submit</button>
    </form>

    <div id="thankYouMessage">Thank you for your valuable time</div>
    
    <div class="button-container">
        <button onclick="window.open('https://docs.google.com/spreadsheets/d/1FstppDGmBMCmVG5K-owyqD6wl7DKYfFwfCjOC26d-Ag/pubhtml?gid=0&single=true', '_blank')">Show Your Call</button>
        <button onclick="window.open('https://docs.google.com/spreadsheets/d/1Zl8JI8J4TPR3ZOFy3kz-aYIpOOBuQBY8n1hBZ1apm4Y/edit?gid=1995041031#gid=1995041031', '_blank')">Ta Bill Show</button>
        <button onclick="showShortageOptions()">Show Your Shortage</button>
    </div>

    <!-- Modal for Shortage options -->
    <div id="shortageModal" class="modal">
        <div class="modal-content">
            <p>Select your zone:</p>
            <button onclick="promptPassword('Dhaka-1')">Dhaka-1</button>
            <button onclick="promptPassword('Dhaka-2')">Dhaka-2</button>
            <button onclick="closeModal()">Close</button>
        </div>
    </div>
    
    <footer>
        <p>Version 2.0 - Powered by Rahimul Islam. If you need any information please contact 01976755754</p>
    </footer>
</body>
</html>
